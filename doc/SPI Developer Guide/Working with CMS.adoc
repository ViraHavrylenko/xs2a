== Working with CMS
:toc-title:
//:imagesdir: usecases/diagrams
:toc: left
// horizontal line

=== Using the CMS-PSU-API

=== SCA Approaches REDIRECT

=== SCA Approaches

=== SCA Approach EMBEDDED

=== Using the CMS-ASPSP-API

CMS-ASPSP-API is an api for banks to make some changes in CMS.

List of endpoints in CMS-ASPSP-API:

* `GET aspsp-api/v1/ais/consents/tpp/{tpp-id}` - get consent by TPP.
* `GET aspsp-api/v1/ais/consents/psu` - get consent by PSU.
* `GET aspsp-api/v1/ais/consents/account/{account-id}` - get consent by account.
* `GET aspsp-api/v1/events` - get events for dates.
* `POST aspsp-api/v1/piis/consents` - create consent.
* `GET aspsp-api/v1/piis/consents` - get consent for PSU.
* `DELETE aspsp-api/v1/piis/consents/{consent-id}` - terminate consent.
* `GET aspsp-api/v1/piis/consents/tpp/{tpp-id}` - get consent by TPP.
* `GET aspsp-api/v1/piis/consents/psu` - get consent by PSU.
* `GET aspsp-api/v1/piis/consents/account/{account-id}` - get consent by account id.
* `GET aspsp-api/v1/pis/payments/tpp/{tpp-id}` - get payments by TPP.
* `GET aspsp-api/v1/pis/payments/psu` - get payments by PSU.
* `GET aspsp-api/v1/pis/payments/account/{account-id}` - get payments by account id.
* `PUT /aspsp-api/v1/pis/transaction-status/{payment-id}/status/{status}` - update payment status.
* `GET aspsp-api/v1/tpp/stop-list` - get TPP stop list record.
* `PUT aspsp-api/v1/tpp/stop-list/block` - block TPP.
* `DELETE aspsp-api/v1/tpp/stop-list/unblock` - unblock TPP.
* `GET aspsp-api/v1/tpp/{tpp-id}` - get TPP info.

`PUT /aspsp-api/v1/pis/transaction-status/{payment-id}/status/{status}`:
on this endpoint you can update transaction status of payment by its payment id.

In order to do this you should enter payment id and new transaction status as path variables,
also you can pass instance id as header, but it is not required.

=== Using the Tpp locking interface

=== Using the Consents/Payments export interface

=== Using the FundsConfirmation Consent interface
